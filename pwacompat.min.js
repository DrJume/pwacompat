(function(){function z(){var a=document.head.querySelector('link[rel="manifest"]'),b=a?a.href:"";if(!b)throw'can\'t find <link rel="manifest" href=".." />\'';var d=H([b,window.location]),f=new XMLHttpRequest;f.open("GET",b);f.withCredentials="use-credentials"===a.getAttribute("crossorigin");f.onload=function(){try{var n=JSON.parse(f.responseText);I(n,d)}catch(r){console.warn("PWACompat error",r)}};f.send(null)}function H(a){for(var b={},d=0;d<a.length;b={c:b.c},++d){b.c=a[d];try{return new URL("",
b.c),function(f){return function(n){return(new URL(n||"",f.c)).toString()}}(b)}catch(f){}}return function(f){return f||""}}function w(a,b){a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);document.head.appendChild(a);return a}function h(a,b){b&&(!0===b&&(b="yes"),w("meta",{name:a,content:b}))}function I(a,b){function d(g,c,p,k){var e=window.devicePixelRatio,l=x({width:g*e,height:c*e});l.scale(e,e);l.fillStyle=a.background_color||"#f8f9fa";l.fillRect(0,0,g,c);l.translate(g/2,(c-32)/
2);k&&(c=k.width/e,e=k.height/e,128<e&&(c/=e/128,e=128),48<=c&&48<=e&&(l.drawImage(k,c/-2,e/-2,c,e),l.translate(0,e/2+32)));l.fillStyle=J?"white":"black";l.font="24px HelveticaNeue-CondensedBold";k=a.name||a.short_name||document.title;e=l.measureText(k).width;if(e<.8*g)l.fillText(k,e/-2,0);else for(k=k.split(/\s+/g),e=1;e<=k.length;++e){c=k.slice(0,e).join(" ");var A=l.measureText(c).width;if(e===k.length||A>.6*g)l.fillText(c,A/-2,0),l.translate(0,24*1.2),k.splice(0,e),e=0}return function(){var t=
document.createElement("link");t.setAttribute("rel","apple-touch-startup-image");t.setAttribute("media","(orientation: "+p+")");t.setAttribute("href",l.canvas.toDataURL());return t}}function f(g){var c=window.screen,p=d(c.availWidth,c.availHeight,"portrait",g),k=d(c.availHeight,c.availWidth,"landscape",g);window.setTimeout(function(){document.head.appendChild(p());window.setTimeout(function(){document.head.appendChild(k())},10)},10)}function n(){B.forEach(function(g){var c=new Image;c.crossOrigin=
"anonymous";c.onload=function(){c.onload=null;g.href=C(c,y,!0)};c.src=g.href})}function r(){var g=B.shift();if(g){var c=new Image;c.crossOrigin="anonymous";c.onerror=function(){return void r()};c.onload=function(){c.onload=null;f(c);if(y){var p=C(c,y);p&&(g.href=p,n())}};c.src=g.href}else f()}var m=a.icons||[];m.sort(function(g,c){return parseInt(c.sizes,10)-parseInt(g.sizes,10)});var B=m.map(function(g){var c={rel:"icon",href:b(g.src),sizes:g.sizes};w("link",c);if(u&&!(120>parseInt(g.sizes,10)))return c.rel=
"apple-touch-icon",w("link",c)}).filter(Boolean),q=document.head.querySelector('meta[name="viewport"]'),K=!!(q&&q.content||"").match(/\bviewport-fit\s*=\s*cover\b/),v=a.display;q=-1!==L.indexOf(v);h("mobile-web-app-capable",q);M(a.theme_color||"black",K);N&&(h("application-name",a.short_name),h("msapplication-tooltip",a.description),h("msapplication-starturl",b(a.start_url||".")),h("msapplication-navbutton-color",a.theme_color),(m=m[0])&&h("msapplication-TileImage",b(m.src)),h("msapplication-TileColor",
a.background_color));document.head.querySelector('[name="theme-color"]')||h("theme-color",a.theme_color);if(u){var J=D(a.background_color||"#f8f9fa");(v=O(a.related_applications))&&h("apple-itunes-app","app-id="+v);h("apple-mobile-web-app-capable",q);h("apple-mobile-web-app-title",a.short_name||a.name);var y=a.background_color||a.theme_color;r()}else m={por:"portrait",lan:"landscape"}[String(a.orientation||"").substr(0,3)]||"",h("x5-orientation",m),h("screen-orientation",m),"fullscreen"===v?(h("x5-fullscreen",
"true"),h("full-screen","yes")):q&&(h("x5-page-mode","app"),h("browsermode","application"))}function O(a){var b;(a||[]).filter(function(d){return"itunes"===d.platform}).forEach(function(d){d.id?b=d.id:(d=d.url.match(/id(\d+)/))&&(b=d[1])});return b}function M(a,b){if(u||P){var d=D(a);if(u)h("apple-mobile-web-app-status-bar-style",b?"black-translucent":d?"black":"default");else{a:{try{var f=Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar;break a}catch(n){}f=void 0}if(b=f)b.foregroundColor=
E(d?"black":"white"),b.backgroundColor=E(a)}}}function E(a){a=F(a);return{r:a[0],g:a[1],b:a[2],a:a[3]}}function F(a){var b=x();b.fillStyle=a;b.fillRect(0,0,1,1);return b.getImageData(0,0,1,1).data||[]}function D(a){a=F(a).map(function(b){b/=255;return.03928>b?b/12.92:Math.pow((b+.055)/1.055,2.4)});return 3<Math.abs(1.05/(.2126*a[0]+.7152*a[1]+.0722*a[2]+.05))}function C(a,b,d){d=void 0===d?!1:d;var f=x(a);f.drawImage(a,0,0);if(d||255!==f.getImageData(0,0,1,1).data[3])return f.globalCompositeOperation=
"destination-over",f.fillStyle=b,f.fillRect(0,0,a.width,a.height),f.canvas.toDataURL()}function x(a){a=void 0===a?{width:1,height:1}:a;var b=a.height,d=document.createElement("canvas");d.width=a.width;d.height=b;return d.getContext("2d")}if("onload"in XMLHttpRequest.prototype&&!navigator.f){var L=["standalone","fullscreen","minimal-ui"],G=navigator.userAgent||"",u=navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&-1!==G.indexOf("Mobile/"),N=!!G.match(/(MSIE |Edge\/|Trident\/)/),P="undefined"!==
typeof Windows;"complete"===document.readyState?z():window.addEventListener("load",z)}})();
